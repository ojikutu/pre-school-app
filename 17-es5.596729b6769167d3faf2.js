function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[17],{L7uJ:function(e,t,n){"use strict";n.r(t),n.d(t,"AllStudentsModule",(function(){return w}));var a=n("ofXK"),i=n("tyNb"),o=n("XNiG"),l=n("1G5W"),r=n("MJdi"),s=n("tzug"),c=n("wHSu"),d=n("fXoL"),u=n("NVKa"),m=n("eC24"),f=n("njyG");function p(e,t){1&e&&(d["\u0275\u0275elementStart"](0,"div",6),d["\u0275\u0275element"](1,"app-content-loader"),d["\u0275\u0275elementEnd"]())}function h(e,t){if(1&e&&(d["\u0275\u0275elementStart"](0,"div"),d["\u0275\u0275text"](1),d["\u0275\u0275element"](2,"br"),d["\u0275\u0275text"](3),d["\u0275\u0275element"](4,"br"),d["\u0275\u0275text"](5),d["\u0275\u0275element"](6,"br"),d["\u0275\u0275elementEnd"]()),2&e){var n=d["\u0275\u0275nextContext"]().$implicit;d["\u0275\u0275advance"](1),d["\u0275\u0275textInterpolate1"](" ",n._source._parent._name," "),d["\u0275\u0275advance"](2),d["\u0275\u0275textInterpolate1"](" Email - ",n._source._parent._email,""),d["\u0275\u0275advance"](2),d["\u0275\u0275textInterpolate1"](" Address - ",n._source._parent._address,"")}}function b(e,t){1&e&&d["\u0275\u0275text"](0," - ")}function g(e,t){if(1&e&&(d["\u0275\u0275elementStart"](0,"tr"),d["\u0275\u0275elementStart"](1,"td"),d["\u0275\u0275text"](2),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](3,"td"),d["\u0275\u0275text"](4),d["\u0275\u0275elementStart"](5,"fieldset",10),d["\u0275\u0275text"](6),d["\u0275\u0275element"](7,"br"),d["\u0275\u0275text"](8),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](9,"td"),d["\u0275\u0275text"](10),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](11,"td"),d["\u0275\u0275template"](12,h,7,3,"div",11),d["\u0275\u0275template"](13,b,1,0,"ng-template",null,12,d["\u0275\u0275templateRefExtractor"]),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit,a=t.index,i=d["\u0275\u0275reference"](14);d["\u0275\u0275advance"](2),d["\u0275\u0275textInterpolate"](a+1),d["\u0275\u0275advance"](2),d["\u0275\u0275textInterpolate2"](" ",n._source._firstName," ",n._source._lastName," "),d["\u0275\u0275advance"](2),d["\u0275\u0275textInterpolate1"](" Allergies - ",n._source._allergies," "),d["\u0275\u0275advance"](2),d["\u0275\u0275textInterpolate1"](" Address - ",n._source._address," "),d["\u0275\u0275advance"](2),d["\u0275\u0275textInterpolate1"](" ",n._source._class_name," "),d["\u0275\u0275advance"](2),d["\u0275\u0275property"]("ngIf",n._source._parent._uid)("ngIfElse",i)}}function v(e,t){if(1&e&&(d["\u0275\u0275elementStart"](0,"div",7),d["\u0275\u0275elementStart"](1,"table",8),d["\u0275\u0275elementStart"](2,"thead"),d["\u0275\u0275elementStart"](3,"tr"),d["\u0275\u0275elementStart"](4,"th"),d["\u0275\u0275text"](5,"#"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](6,"th"),d["\u0275\u0275text"](7,"Student Details"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](8,"th"),d["\u0275\u0275text"](9,"Class Details"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](10,"th"),d["\u0275\u0275text"](11,"Parent Details"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](12,"tbody"),d["\u0275\u0275template"](13,g,15,8,"tr",9),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"]()),2&e){var n=d["\u0275\u0275nextContext"]();d["\u0275\u0275advance"](13),d["\u0275\u0275property"]("ngForOf",n.studentRecords)}}var S,_,x,E=[{path:"",component:(S=function(){function e(t,n,a,i){var r=this;_classCallCheck(this,e),this.router=t,this.activatedRoute=n,this.classService=a,this.notificationService=i,this.subheading="All Student Lists",this.icon="pe-7s-display2 icon-gradient bg-mean-fruit",this.buttonMessage="Back",this.buttonDestination="/app/school",this.buttonIcon=c.a,this.ngUnsubscribe$=new o.a,this.getSchoolDetails=function(e){r.classService.schoolDetails(e).pipe(Object(l.a)(r.ngUnsubscribe$)).subscribe((function(e){200===e.statusCode?r.heading=e.data._data[0]._source._name:r.notificationService.error({_title:"Profile Not Found",_message:"Selected school profile could not be loaded. Please try again."})}))},this.getSchoolStudents=function(e){r.classService.allSchoolStudents(r.schoolUid).pipe(Object(l.a)(r.ngUnsubscribe$)).subscribe((function(e){200===e.statusCode&&(r.studentRecords=e.data._data),r.loadingStudentProfiles=!0}))},this.ngOnDestroy=function(){r.ngUnsubscribe$.next(),r.ngUnsubscribe$.complete()}}return _createClass(e,[{key:"ngOnInit",value:function(){this.schoolUid=this.activatedRoute.snapshot.params.id,this.getSchoolDetails(this.schoolUid),this.getSchoolStudents(this.schoolUid)}}]),e}(),S.\u0275fac=function(e){return new(e||S)(d["\u0275\u0275directiveInject"](i.f),d["\u0275\u0275directiveInject"](i.a),d["\u0275\u0275directiveInject"](r.a),d["\u0275\u0275directiveInject"](s.a))},S.\u0275cmp=d["\u0275\u0275defineComponent"]({type:S,selectors:[["app-all-students"]],decls:7,vars:8,consts:[[3,"heading","subheading","icon","buttonMessage","buttonDestination","buttonIcon"],[1,"row"],[1,"col-lg-12","col-xl-12"],[1,"main-card","mb-3","card"],["class","h-sm d-flex justify-content-center align-items-center",4,"ngIf","ngIfElse"],["studentProfileLoaded",""],[1,"h-sm","d-flex","justify-content-center","align-items-center"],[1,"p-5","table-responsive"],["datatable","",1,"padding-top-5","align-middle","mb-0","table","table-borderless","table-striped","table-hover"],[4,"ngFor","ngForOf"],[1,"border","p-2","mt-2"],[4,"ngIf","ngIfElse"],["noParentProfile",""]],template:function(e,t){if(1&e&&(d["\u0275\u0275element"](0,"app-page-title",0),d["\u0275\u0275elementStart"](1,"div",1),d["\u0275\u0275elementStart"](2,"div",2),d["\u0275\u0275elementStart"](3,"div",3),d["\u0275\u0275template"](4,p,2,0,"div",4),d["\u0275\u0275template"](5,v,14,1,"ng-template",null,5,d["\u0275\u0275templateRefExtractor"]),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"]()),2&e){var n=d["\u0275\u0275reference"](6);d["\u0275\u0275property"]("heading",t.heading)("subheading",t.subheading)("icon",t.icon)("buttonMessage",t.buttonMessage)("buttonDestination",t.buttonDestination)("buttonIcon",t.buttonIcon),d["\u0275\u0275advance"](4),d["\u0275\u0275property"]("ngIf",!t.loadingStudentProfiles)("ngIfElse",n)}},directives:[u.a,a.NgIf,m.a,f.a,a.NgForOf],styles:[""]}),S),data:{title:"All Students"}}],I=((_=function e(){_classCallCheck(this,e)}).\u0275mod=d["\u0275\u0275defineNgModule"]({type:_}),_.\u0275inj=d["\u0275\u0275defineInjector"]({factory:function(e){return new(e||_)},imports:[[i.i.forChild(E)],i.i]}),_),y=n("Pc/E"),C=n("TTnx"),w=((x=function e(){_classCallCheck(this,e)}).\u0275mod=d["\u0275\u0275defineNgModule"]({type:x}),x.\u0275inj=d["\u0275\u0275defineInjector"]({factory:function(e){return new(e||x)},imports:[[a.CommonModule,I,y.a,C.DashboardModule,f.b]]}),x)}}]);