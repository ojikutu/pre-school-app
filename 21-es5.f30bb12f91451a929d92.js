function _defineProperty(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[21],{YOrt:function(e,t,n){"use strict";n.r(t),n.d(t,"TeacherProfileModule",(function(){return G}));var a=n("ofXK"),r=n("tyNb"),i=n("3Pt+"),l=n("XNiG"),o=n("1G5W"),s=n("MJdi"),c=n("tzug"),d=n("HAZY"),m=n("wHSu"),u=n("fXoL"),p=n("1kSV"),f=n("6NWb");function h(e,t){if(1&e&&(u["\u0275\u0275elementStart"](0,"option",44),u["\u0275\u0275text"](1),u["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;u["\u0275\u0275propertyInterpolate"]("value",n._source._uid+".^."+n._source._name),u["\u0275\u0275advance"](1),u["\u0275\u0275textInterpolate"](n._source._name)}}function v(e,t){if(1&e&&(u["\u0275\u0275elementStart"](0,"button",45),u["\u0275\u0275text"](1,"Assign Class"),u["\u0275\u0275elementEnd"]()),2&e){var n=u["\u0275\u0275nextContext"](2);u["\u0275\u0275property"]("disabled",!n.classAssignmentForm.valid)}}function b(e,t){1&e&&(u["\u0275\u0275elementStart"](0,"button",46),u["\u0275\u0275element"](1,"span",47),u["\u0275\u0275text"](2," Assigning Classroom... "),u["\u0275\u0275elementEnd"]())}function S(e,t){if(1&e){var n=u["\u0275\u0275getCurrentView"]();u["\u0275\u0275elementStart"](0,"div",29),u["\u0275\u0275elementStart"](1,"h4",30),u["\u0275\u0275text"](2,"Create Class"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](3,"button",31),u["\u0275\u0275listener"]("click",(function(){return(0,t.dismiss)("Cross click")})),u["\u0275\u0275elementStart"](4,"span",32),u["\u0275\u0275text"](5,"\xd7"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](6,"div",33),u["\u0275\u0275elementStart"](7,"form",34),u["\u0275\u0275listener"]("ngSubmit",(function(){return u["\u0275\u0275restoreView"](n),u["\u0275\u0275nextContext"]().assignClass()})),u["\u0275\u0275elementStart"](8,"div",35),u["\u0275\u0275elementStart"](9,"div",36),u["\u0275\u0275elementStart"](10,"label",37),u["\u0275\u0275text"](11,"Select Class"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](12,"select",38),u["\u0275\u0275elementStart"](13,"option",39),u["\u0275\u0275text"](14,"Choose..."),u["\u0275\u0275elementEnd"](),u["\u0275\u0275template"](15,h,2,2,"option",40),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](16,"div",41),u["\u0275\u0275template"](17,v,2,1,"button",42),u["\u0275\u0275template"](18,b,3,0,"button",43),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"]()}if(2&e){var a=u["\u0275\u0275nextContext"]();u["\u0275\u0275advance"](7),u["\u0275\u0275property"]("formGroup",a.classAssignmentForm),u["\u0275\u0275advance"](8),u["\u0275\u0275property"]("ngForOf",a.allSchoolClass),u["\u0275\u0275advance"](2),u["\u0275\u0275property"]("ngIf",!a.formSubmitted),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf",a.formSubmitted)}}function _(e,t){if(1&e){var n=u["\u0275\u0275getCurrentView"]();u["\u0275\u0275elementStart"](0,"button",52),u["\u0275\u0275listener"]("click",(function(){return u["\u0275\u0275restoreView"](n),u["\u0275\u0275nextContext"](2).updateState()})),u["\u0275\u0275text"](1,"Edit Profile"),u["\u0275\u0275elementEnd"]()}}function g(e,t){if(1&e&&(u["\u0275\u0275elementStart"](0,"div"),u["\u0275\u0275elementStart"](1,"h5",48),u["\u0275\u0275text"](2),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](3,"h6",49),u["\u0275\u0275text"](4),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](5,"div",50),u["\u0275\u0275elementStart"](6,"div",41),u["\u0275\u0275template"](7,_,2,0,"button",51),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"]()),2&e){var n=u["\u0275\u0275nextContext"]();u["\u0275\u0275advance"](2),u["\u0275\u0275textInterpolate2"]("",n.teacherFirstName," ",n.teacherLastName,""),u["\u0275\u0275advance"](2),u["\u0275\u0275textInterpolate"](n.teacherEmail),u["\u0275\u0275advance"](3),u["\u0275\u0275property"]("ngIf",!n.editState)}}function x(e,t){if(1&e&&(u["\u0275\u0275elementStart"](0,"button",45),u["\u0275\u0275text"](1,"Update Profile"),u["\u0275\u0275elementEnd"]()),2&e){var n=u["\u0275\u0275nextContext"](3);u["\u0275\u0275property"]("disabled",!n.profileUpdate.valid)}}function E(e,t){1&e&&(u["\u0275\u0275elementStart"](0,"button",46),u["\u0275\u0275element"](1,"span",47),u["\u0275\u0275text"](2," Updating... "),u["\u0275\u0275elementEnd"]())}function C(e,t){if(1&e){var n=u["\u0275\u0275getCurrentView"]();u["\u0275\u0275elementStart"](0,"div",41),u["\u0275\u0275elementStart"](1,"button",61),u["\u0275\u0275listener"]("click",(function(){u["\u0275\u0275restoreView"](n);var e=u["\u0275\u0275nextContext"](2);return e.editState=!e.editState})),u["\u0275\u0275text"](2,"Cancel"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275template"](3,x,2,1,"button",42),u["\u0275\u0275template"](4,E,3,0,"button",43),u["\u0275\u0275elementEnd"]()}if(2&e){var a=u["\u0275\u0275nextContext"](2);u["\u0275\u0275advance"](3),u["\u0275\u0275property"]("ngIf",!a.formSubmitted),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf",a.formSubmitted)}}function N(e,t){if(1&e){var n=u["\u0275\u0275getCurrentView"]();u["\u0275\u0275elementStart"](0,"div"),u["\u0275\u0275elementStart"](1,"form",34),u["\u0275\u0275listener"]("ngSubmit",(function(){return u["\u0275\u0275restoreView"](n),u["\u0275\u0275nextContext"]().updateProfile()})),u["\u0275\u0275elementStart"](2,"div",53),u["\u0275\u0275elementStart"](3,"label",54),u["\u0275\u0275text"](4,"First Name"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275element"](5,"input",55),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](6,"div",53),u["\u0275\u0275elementStart"](7,"label",56),u["\u0275\u0275text"](8,"Last Name"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275element"](9,"input",57),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](10,"div",53),u["\u0275\u0275elementStart"](11,"label",58),u["\u0275\u0275text"](12,"Email Address"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275element"](13,"input",59),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](14,"div",50),u["\u0275\u0275template"](15,C,5,2,"div",60),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"]()}if(2&e){var a=u["\u0275\u0275nextContext"]();u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("formGroup",a.profileUpdate),u["\u0275\u0275advance"](14),u["\u0275\u0275property"]("ngIf",a.editState)}}function y(e,t){1&e&&(u["\u0275\u0275elementStart"](0,"div"),u["\u0275\u0275elementStart"](1,"h5"),u["\u0275\u0275text"](2,"No assigned classes."),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"]())}function w(e,t){if(1&e){var n=u["\u0275\u0275getCurrentView"]();u["\u0275\u0275elementStart"](0,"li",65),u["\u0275\u0275elementStart"](1,"div",66),u["\u0275\u0275elementStart"](2,"div",67),u["\u0275\u0275elementStart"](3,"div",68),u["\u0275\u0275element"](4,"fa-icon",69),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](5,"div",70),u["\u0275\u0275elementStart"](6,"div",71),u["\u0275\u0275text"](7),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](8,"div",72),u["\u0275\u0275elementStart"](9,"div",73),u["\u0275\u0275elementStart"](10,"small",74),u["\u0275\u0275elementStart"](11,"fa-icon",75),u["\u0275\u0275listener"]("click",(function(){u["\u0275\u0275restoreView"](n);var e=u["\u0275\u0275nextContext"](),t=e.$implicit,a=e.index;return u["\u0275\u0275nextContext"](2).clickRemove(t._source._uid+".^."+t._source._name+".^."+a)})),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"]()}if(2&e){var a=u["\u0275\u0275nextContext"]().$implicit,r=u["\u0275\u0275nextContext"](2);u["\u0275\u0275advance"](4),u["\u0275\u0275property"]("icon",r.faUniversity),u["\u0275\u0275advance"](3),u["\u0275\u0275textInterpolate"](a._source._name),u["\u0275\u0275advance"](4),u["\u0275\u0275property"]("icon",r.faTimesCircle)}}function U(e,t){if(1&e&&(u["\u0275\u0275elementStart"](0,"ul",63),u["\u0275\u0275template"](1,w,12,3,"li",64),u["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf",void 0!==n)}}function A(e,t){if(1&e&&u["\u0275\u0275template"](0,U,2,1,"ul",62),2&e){var n=u["\u0275\u0275nextContext"]();u["\u0275\u0275property"]("ngForOf",n.classList)}}function O(e,t){if(1&e&&(u["\u0275\u0275elementStart"](0,"div"),u["\u0275\u0275elementStart"](1,"fieldset",26),u["\u0275\u0275elementStart"](2,"div",66),u["\u0275\u0275elementStart"](3,"div",67),u["\u0275\u0275elementStart"](4,"div",70),u["\u0275\u0275elementStart"](5,"div",71),u["\u0275\u0275text"](6,"Phone Number"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](7,"div",72),u["\u0275\u0275elementStart"](8,"div",76),u["\u0275\u0275text"](9),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](10,"fieldset",77),u["\u0275\u0275elementStart"](11,"div",66),u["\u0275\u0275elementStart"](12,"div",67),u["\u0275\u0275elementStart"](13,"div",70),u["\u0275\u0275elementStart"](14,"div",71),u["\u0275\u0275text"](15,"Contact Address"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](16,"div",72),u["\u0275\u0275elementStart"](17,"div",76),u["\u0275\u0275text"](18),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](19,"fieldset",77),u["\u0275\u0275elementStart"](20,"div",66),u["\u0275\u0275elementStart"](21,"div",67),u["\u0275\u0275elementStart"](22,"div",70),u["\u0275\u0275elementStart"](23,"div",71),u["\u0275\u0275text"](24,"Next Of Kin"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](25,"div",72),u["\u0275\u0275elementStart"](26,"div",76),u["\u0275\u0275text"](27),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](28,"fieldset",77),u["\u0275\u0275elementStart"](29,"div",66),u["\u0275\u0275elementStart"](30,"div",67),u["\u0275\u0275elementStart"](31,"div",70),u["\u0275\u0275elementStart"](32,"div",71),u["\u0275\u0275text"](33,"Next Of Kin Contact"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](34,"div",72),u["\u0275\u0275elementStart"](35,"div",76),u["\u0275\u0275text"](36),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"]()),2&e){var n=u["\u0275\u0275nextContext"]();u["\u0275\u0275advance"](9),u["\u0275\u0275textInterpolate1"](" ",n.teacherPhone," "),u["\u0275\u0275advance"](9),u["\u0275\u0275textInterpolate1"](" ",n.teacherContactAddress," "),u["\u0275\u0275advance"](9),u["\u0275\u0275textInterpolate1"](" ",n.teacherNextOfKin," "),u["\u0275\u0275advance"](9),u["\u0275\u0275textInterpolate1"](" ",n.teacherNextOfKinContact," ")}}function I(e,t){if(1&e&&(u["\u0275\u0275elementStart"](0,"button",87),u["\u0275\u0275text"](1,"Update Contact Info"),u["\u0275\u0275elementEnd"]()),2&e){var n=u["\u0275\u0275nextContext"](2);u["\u0275\u0275property"]("disabled",!n.contactAddress.valid)}}function F(e,t){if(1&e&&(u["\u0275\u0275elementStart"](0,"button",87),u["\u0275\u0275text"](1,"Updating ...."),u["\u0275\u0275elementEnd"]()),2&e){var n=u["\u0275\u0275nextContext"](2);u["\u0275\u0275property"]("disabled",!n.contactAddress.valid)}}function k(e,t){if(1&e){var n=u["\u0275\u0275getCurrentView"]();u["\u0275\u0275elementStart"](0,"form",34),u["\u0275\u0275listener"]("ngSubmit",(function(){return u["\u0275\u0275restoreView"](n),u["\u0275\u0275nextContext"]().updateContact()})),u["\u0275\u0275elementStart"](1,"div",53),u["\u0275\u0275elementStart"](2,"label",78),u["\u0275\u0275text"](3,"Phone Number"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275element"](4,"input",79),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](5,"div",53),u["\u0275\u0275elementStart"](6,"label",80),u["\u0275\u0275text"](7,"Contact Address"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275element"](8,"input",81),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](9,"div",53),u["\u0275\u0275elementStart"](10,"label",82),u["\u0275\u0275text"](11,"Next Of Kin"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275element"](12,"input",83),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](13,"div",53),u["\u0275\u0275elementStart"](14,"label",84),u["\u0275\u0275text"](15,"Next Of Kin Contact"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275element"](16,"input",85),u["\u0275\u0275elementEnd"](),u["\u0275\u0275template"](17,I,2,1,"button",86),u["\u0275\u0275template"](18,F,2,1,"button",86),u["\u0275\u0275elementEnd"]()}if(2&e){var a=u["\u0275\u0275nextContext"]();u["\u0275\u0275property"]("formGroup",a.contactAddress),u["\u0275\u0275advance"](17),u["\u0275\u0275property"]("ngIf",!a.contactUpdateStatus),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf",a.contactUpdateStatus)}}var K,P,V,j=[{path:"",component:(K=function(){function e(t,n,a,r,s,c,d){var u=this;_classCallCheck(this,e),this.activatedRoute=t,this.router=n,this.classService=a,this.notificationService=r,this.apiAuthenticationService=s,this.modalService=c,this.location=d,this.ngUnsubscribe$=new l.a,this.classList=[],this.subheading="Teacher Profile Management.",this.icon="pe-7s-users icon-gradient bg-mean-fruit",this.faPlus=m.s,this.faUniversity=m.z,this.faArrowLeft=m.a,this.faDotCircle=m.j,this.faTimesCircle=m.x,this.profileUpdate=new i.FormGroup({_firstName:new i.FormControl("",i.Validators.required),_lastName:new i.FormControl(this.teacherLastName,i.Validators.required),_email:new i.FormControl(this.teacherEmail,i.Validators.required)}),this.classAssignmentForm=new i.FormGroup({_class_uid:new i.FormControl("",i.Validators.required)}),this.contactAddress=new i.FormGroup({_phoneNumber:new i.FormControl(""),_contactAddress:new i.FormControl(""),_nextOfKin:new i.FormControl(""),_nextOfKinContact:new i.FormControl("")}),this.updateState=function(){u.editState=!0,u.profileUpdate.setValue({_firstName:u.teacherFirstName,_lastName:u.teacherLastName,_email:u.teacherEmail}),u.contactAddress.setValue({_phoneNumber:u.teacherPhone,_contactAddress:u.teacherContactAddress,_nextOfKin:u.teacherNextOfKin,_nextOfKinContact:u.teacherNextOfKinContact})},this.updateProfile=function(){u.profileUpdate.valid&&(u.formSubmitted=!0,u.profileUpdate.value._teacher_uid=u.teacherUid,u.teacherProfileUpdate(u.profileUpdate.value),u.editState=!1,u.formSubmitted=!1)},this.listTeacherClass=function(){u.apiAuthenticationService.fetch("class",{_searchFilter:JSON.stringify({_mustEqual:{_school_uid:u.schoolUid,_assigned:u.teacherUid},_records:1e3})}).pipe(Object(o.a)(u.ngUnsubscribe$)).subscribe((function(e){200===e.statusCode&&null!==e.data&&(u.classList=e.data._data)}))},this.getAllClasses=function(){u.classService.allSchoolClasses(u.schoolUid).pipe(Object(o.a)(u.ngUnsubscribe$)).subscribe((function(e){200===e.statusCode&&null!==e.data&&(u.allSchoolClass=e.data._data)}))},this.teacherProfileUpdate=function(e){u.apiAuthenticationService.patch("school",{_uid:u.schoolUid,_teacher:_defineProperty({},u.teacherUid,e)}).pipe(Object(o.a)(u.ngUnsubscribe$)).subscribe((function(t){200===t.statusCode&&(u.notificationService.success({_title:"Profile Updated",_message:"Operation Successful."}),u.teacherPhone=void 0===e._phoneNumber?u.teacherPhone:e._phoneNumber,u.teacherContactAddress=void 0===e._contactAddress?u.teacherContactAddress:e._contactAddress,u.teacherNextOfKin=void 0===e._nextOfKin?u.teacherNextOfKin:e._nextOfKin,u.teacherNextOfKinContact=void 0===e.teacherNextOfKinContact?u.teacherNextOfKinContact:e._nextOfKinContact,u.teacherEmail=void 0===e._email?u.teacherEmail:e._email,u.teacherFirstName=void 0===e._firstName?u.teacherFirstName:e._firstName,u.teacherLastName=void 0===e._lastName?u.teacherLastName:e._lastName)}),(function(){u.formSubmitted=!1,u.contactUpdateStatus=!1}))},this.ngOnDestroy=function(){u.ngUnsubscribe$.next(),u.ngUnsubscribe$.complete()}}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.schoolUid=this.activatedRoute.snapshot.params.id,this.teacherUid=this.activatedRoute.snapshot.params.teacherUid,this.classService.schoolDetails(this.schoolUid).pipe(Object(o.a)(this.ngUnsubscribe$)).subscribe((function(t){200!==t.statusCode||t.data._details._recordsFound<1?e.router.navigate(["/app/school/teachers/"+e.schoolUid]):(e.profileDetails=t.data._data[0]._source._name,void 0!==t.data._data[0]._source._teacher[e.teacherUid]?(e.teacherFirstName=t.data._data[0]._source._teacher[e.teacherUid]._firstName,e.teacherLastName=t.data._data[0]._source._teacher[e.teacherUid]._lastName,e.teacherEmail=t.data._data[0]._source._teacher[e.teacherUid]._email,e.teacherPhone=void 0===t.data._data[0]._source._teacher[e.teacherUid]._phoneNumber?null:t.data._data[0]._source._teacher[e.teacherUid]._phoneNumber,e.teacherContactAddress=void 0===t.data._data[0]._source._teacher[e.teacherUid]._contactAddress?null:t.data._data[0]._source._teacher[e.teacherUid]._contactAddress,e.teacherNextOfKin=void 0===t.data._data[0]._source._teacher[e.teacherUid]._nextOfKin?null:t.data._data[0]._source._teacher[e.teacherUid]._nextOfKin,e.teacherNextOfKinContact=void 0===t.data._data[0]._source._teacher[e.teacherUid]._nextOfKinContact?null:t.data._data[0]._source._teacher[e.teacherUid]._nextOfKinContact):(e.notificationService.error({_title:"Profile Not Found",_message:"No record found for selected teacher profile."}),e.router.navigate(["/app/school/teachers/"+e.schoolUid])))})),this.listTeacherClass(),this.getAllClasses()}},{key:"openModal",value:function(e){this.modalService.open(e,{size:"lg"})}},{key:"assignClass",value:function(){var e=this;if(this.classAssignmentForm.valid){this.formSubmitted=!0;var t=this.classAssignmentForm.value._class_uid.split(".^.");this.classAssignmentForm.value._school_uid=this.schoolUid,this.classAssignmentForm.value._teacher_uid=this.teacherUid,this.classAssignmentForm.value._action="Assign",this.classAssignmentForm.value._class_uid=t[0],this.apiAuthenticationService.patch("teacher",this.classAssignmentForm.value).pipe(Object(o.a)(this.ngUnsubscribe$)).subscribe((function(n){200===n.statusCode&&(e.notificationService.success({_title:"Operation Successful",_message:"Class assigned successfully."}),e.classList.unshift({_source:{_name:t[1],_uid:n.data._uid}}),e.modalService.dismissAll(),e.formSubmitted=!1)}))}}},{key:"clickRemove",value:function(e){var t=this,n=e.split(".^.");confirm("Are you sure you want to remove teacher from "+n[1])&&this.apiAuthenticationService.patch("teacher",{_action:"Remove",_class_uid:n[0],_teacher_uid:this.teacherUid,_school_uid:this.schoolUid}).pipe(Object(o.a)(this.ngUnsubscribe$)).subscribe((function(e){200===e.statusCode&&(t.notificationService.success({_title:"Operation Successful",_message:n[1]+" un-assigned successfully."}),delete t.classList[n[2]],t.modalService.dismissAll())}))}},{key:"updateContact",value:function(){this.contactAddress.valid&&(this.contactUpdateStatus=!0,this.profileUpdate.value._teacher_uid=this.teacherUid,this.teacherProfileUpdate(this.contactAddress.value),this.contactUpdateStatus=!1)}},{key:"goBack",value:function(){this.location.back()}}]),e}(),K.\u0275fac=function(e){return new(e||K)(u["\u0275\u0275directiveInject"](r.a),u["\u0275\u0275directiveInject"](r.f),u["\u0275\u0275directiveInject"](s.a),u["\u0275\u0275directiveInject"](c.a),u["\u0275\u0275directiveInject"](d.a),u["\u0275\u0275directiveInject"](p.g),u["\u0275\u0275directiveInject"](a.Location))},K.\u0275cmp=u["\u0275\u0275defineComponent"]({type:K,selectors:[["app-teacher-profile"]],decls:43,vars:13,consts:[[1,"app-page-title"],[1,"page-title-wrapper"],[1,"page-title-heading"],[1,"page-title-icon"],[1,"page-title-subheading"],[1,"page-title-actions"],["type","button",1,"btn-shadow","d-inline-flex","align-items-center","btn","btn-outline-warning","mr-2",3,"click"],[1,"mr-2",3,"icon"],["type","button",1,"btn-shadow","d-inline-flex","align-items-center","btn","btn-success",3,"click"],["teacherAssignModal",""],[1,"row"],[1,"col-md-12","col-lg-6","col-xl-4"],[1,"card-shadow-primary","card-border","mb-3","card"],[1,"dropdown-menu-header"],[1,"dropdown-menu-header-inner","bg-dark"],[1,"menu-header-content"],[1,"avatar-icon-wrapper","mb-3","avatar-icon-xl"],[1,"avatar-icon"],["src","./assets/images/avatars/6.jpg","alt","Avatar 5"],[4,"ngIf"],[1,"p-3"],[1,"text-muted","text-uppercase","font-size-md","opacity-5","font-weight-normal"],[4,"ngIf","ngIfElse"],["classDisplay",""],[1,"col-md-12","col-lg-6","col-xl-8"],[1,"main-card","mb-3","card","p-3"],[1,"border","p-2"],[1,"w-auto"],["editContactDetails",""],[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],["novalidate","",1,"needs-validation","justify-content-center","align-items-center",3,"formGroup","ngSubmit"],[1,"input-group","mb-3"],[1,"input-group-prepend"],["for","inputGroupSelect01",1,"input-group-text"],["formControlName","_class_uid","id","inputGroupSelect01",1,"custom-select"],["selected",""],[3,"value",4,"ngFor","ngForOf"],[1,"button-row"],["type","submit","class","btn-icon btn btn-success btn-sm mr-2 mb-2",3,"disabled",4,"ngIf"],["class","btn-icon btn btn-success btn-sm mr-2 mb-2","type","button","disabled","",4,"ngIf"],[3,"value"],["type","submit",1,"btn-icon","btn","btn-success","btn-sm","mr-2","mb-2",3,"disabled"],["type","button","disabled","",1,"btn-icon","btn","btn-success","btn-sm","mr-2","mb-2"],["role","status","aria-hidden","true",1,"spinner-grow","spinner-grow-sm"],[1,"menu-header-title"],[1,"menu-header-subtitle"],[1,"menu-header-btn-pane","pt-1"],["class","btn-icon btn btn-warning btn-sm",3,"click",4,"ngIf"],[1,"btn-icon","btn","btn-warning","btn-sm",3,"click"],[1,"position-relative","form-group"],["for","firstName",1,"sr-only"],["formControlName","_firstName","id","firstName","placeholder","First Name","type","text",1,"mr-2","form-control"],["for","lastName",1,"sr-only"],["formControlName","_lastName","id","lastName","placeholder","First Name","type","text",1,"mr-2","form-control"],["for","email",1,"sr-only"],["formControlName","_email","id","email","placeholder","Email Address","type","email",1,"mr-2","form-control"],["class","button-row",4,"ngIf"],[1,"btn-icon","btn","btn-outline-light","btn-sm","mr-2","mb-2",3,"click"],["class","rm-list-borders list-group list-group-flush",4,"ngFor","ngForOf"],[1,"rm-list-borders","list-group","list-group-flush"],["class","list-group-item",4,"ngIf"],[1,"list-group-item"],[1,"widget-content","p-0"],[1,"widget-content-wrapper"],[1,"widget-content-left","mr-3"],[3,"icon"],[1,"widget-content-left"],[1,"widget-heading"],[1,"widget-content-right"],[1,"font-size-xlg","text-muted"],["placement","top","ngbTooltip","Remove From Class",1,"text-danger","pl-2"],[3,"icon","click"],[1,"text-muted"],[1,"border","p-2","mt-2"],["for","phoneNumber"],["formControlName","_phoneNumber","id","phoneNumber","placeholder","Contact Phone Number","type","text",1,"form-control"],["for","contactAddress"],["formControlName","_contactAddress","id","contactAddress","placeholder","Contact Address","type","text",1,"form-control"],["for","nextOfKin"],["formControlName","_nextOfKin","id","nextOfKin","placeholder","Next Of Kin","type","text",1,"form-control"],["for","nextOfKinContact"],["formControlName","_nextOfKinContact","id","nextOfKinContact","placeholder","Next Of Kin","type","text",1,"form-control"],["type","submit","class","mt-1 btn btn-primary",3,"disabled",4,"ngIf"],["type","submit",1,"mt-1","btn","btn-primary",3,"disabled"]],template:function(e,t){if(1&e){var n=u["\u0275\u0275getCurrentView"]();u["\u0275\u0275elementStart"](0,"div",0),u["\u0275\u0275elementStart"](1,"div",1),u["\u0275\u0275elementStart"](2,"div",2),u["\u0275\u0275elementStart"](3,"div",3),u["\u0275\u0275element"](4,"i"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](5,"div"),u["\u0275\u0275text"](6),u["\u0275\u0275elementStart"](7,"div",4),u["\u0275\u0275text"](8),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](9,"div",5),u["\u0275\u0275elementStart"](10,"button",6),u["\u0275\u0275listener"]("click",(function(){return t.goBack()})),u["\u0275\u0275element"](11,"fa-icon",7),u["\u0275\u0275text"](12," Back "),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](13,"button",8),u["\u0275\u0275listener"]("click",(function(){u["\u0275\u0275restoreView"](n);var e=u["\u0275\u0275reference"](17);return t.openModal(e)})),u["\u0275\u0275element"](14,"fa-icon",7),u["\u0275\u0275text"](15," Assign New Class "),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275template"](16,S,19,4,"ng-template",null,9,u["\u0275\u0275templateRefExtractor"]),u["\u0275\u0275elementStart"](18,"div",10),u["\u0275\u0275elementStart"](19,"div",11),u["\u0275\u0275elementStart"](20,"div",12),u["\u0275\u0275elementStart"](21,"div",13),u["\u0275\u0275elementStart"](22,"div",14),u["\u0275\u0275elementStart"](23,"div",15),u["\u0275\u0275elementStart"](24,"div",16),u["\u0275\u0275elementStart"](25,"div",17),u["\u0275\u0275element"](26,"img",18),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275template"](27,g,8,4,"div",19),u["\u0275\u0275template"](28,N,16,2,"div",19),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](29,"div",20),u["\u0275\u0275elementStart"](30,"h6",21),u["\u0275\u0275text"](31,"Assigned Classes"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275template"](32,y,3,0,"div",22),u["\u0275\u0275template"](33,A,1,1,"ng-template",null,23,u["\u0275\u0275templateRefExtractor"]),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](35,"div",24),u["\u0275\u0275elementStart"](36,"div",25),u["\u0275\u0275elementStart"](37,"fieldset",26),u["\u0275\u0275elementStart"](38,"legend",27),u["\u0275\u0275text"](39,"Contact Address"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275template"](40,O,37,4,"div",22),u["\u0275\u0275template"](41,k,19,3,"ng-template",null,28,u["\u0275\u0275templateRefExtractor"]),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"]()}if(2&e){var a=u["\u0275\u0275reference"](34),r=u["\u0275\u0275reference"](42);u["\u0275\u0275advance"](4),u["\u0275\u0275classMapInterpolate1"]("icon ",t.icon,""),u["\u0275\u0275advance"](2),u["\u0275\u0275textInterpolate1"](" ",t.profileDetails," "),u["\u0275\u0275advance"](2),u["\u0275\u0275textInterpolate1"](" ",t.subheading," "),u["\u0275\u0275advance"](3),u["\u0275\u0275property"]("icon",t.faArrowLeft),u["\u0275\u0275advance"](3),u["\u0275\u0275property"]("icon",t.faPlus),u["\u0275\u0275advance"](13),u["\u0275\u0275property"]("ngIf",!t.editState),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf",t.editState),u["\u0275\u0275advance"](4),u["\u0275\u0275property"]("ngIf",t.classList.length<1)("ngIfElse",a),u["\u0275\u0275advance"](8),u["\u0275\u0275property"]("ngIf",!t.editState)("ngIfElse",r)}},directives:[f.a,a.NgIf,i["\u0275angular_packages_forms_forms_y"],i.NgControlStatusGroup,i.FormGroupDirective,i.SelectControlValueAccessor,i.NgControlStatus,i.FormControlName,i.NgSelectOption,i["\u0275angular_packages_forms_forms_x"],a.NgForOf,i.DefaultValueAccessor,p.k],styles:[""]}),K),data:{title:"Teacher Profile"}}],L=((V=function e(){_classCallCheck(this,e)}).\u0275mod=u["\u0275\u0275defineNgModule"]({type:V}),V.\u0275inj=u["\u0275\u0275defineInjector"]({factory:function(e){return new(e||V)},imports:[[r.i.forChild(j)],r.i]}),V),G=((P=function e(){_classCallCheck(this,e)}).\u0275mod=u["\u0275\u0275defineNgModule"]({type:P}),P.\u0275inj=u["\u0275\u0275defineInjector"]({factory:function(e){return new(e||P)},imports:[[a.CommonModule,L,f.b,i.ReactiveFormsModule,p.l]]}),P)}}]);