(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{yMvx:function(e,t,n){"use strict";n.r(t),n.d(t,"AllClassModule",(function(){return w}));var a=n("ofXK"),i=n("tyNb"),r=n("XNiG"),l=n("1G5W"),s=n("tzug"),o=n("HAZY"),d=n("wHSu"),c=n("fXoL"),m=n("1kSV"),u=n("6NWb"),p=n("Fmiz"),h=n("eC24"),g=n("njyG");function f(e,t){if(1&e){const e=c["\u0275\u0275getCurrentView"]();c["\u0275\u0275elementStart"](0,"div",16),c["\u0275\u0275elementStart"](1,"h4",17),c["\u0275\u0275text"](2,"Create Class"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](3,"button",18),c["\u0275\u0275listener"]("click",(function(){return(0,t.dismiss)("Cross click")})),c["\u0275\u0275elementStart"](4,"span",19),c["\u0275\u0275text"](5,"\xd7"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](6,"div",20),c["\u0275\u0275elementStart"](7,"app-create-class",21),c["\u0275\u0275listener"]("createdClass",(function(t){return c["\u0275\u0275restoreView"](e),c["\u0275\u0275nextContext"]().createdClass(t)})),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"]()}if(2&e){const e=c["\u0275\u0275nextContext"]();c["\u0275\u0275advance"](7),c["\u0275\u0275property"]("schoolUid",e.schoolUid)}}function v(e,t){1&e&&(c["\u0275\u0275elementStart"](0,"div",22),c["\u0275\u0275element"](1,"app-content-loader"),c["\u0275\u0275elementEnd"]())}const S=function(e){return["/app/classes/students",e]};function b(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"tr"),c["\u0275\u0275elementStart"](1,"td"),c["\u0275\u0275text"](2),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](3,"td"),c["\u0275\u0275elementStart"](4,"div",26),c["\u0275\u0275elementStart"](5,"div",27),c["\u0275\u0275elementStart"](6,"div",28),c["\u0275\u0275elementStart"](7,"div",29),c["\u0275\u0275elementStart"](8,"a",30),c["\u0275\u0275text"](9),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](10,"div",31),c["\u0275\u0275elementStart"](11,"div",32),c["\u0275\u0275text"](12),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](13,"div",33),c["\u0275\u0275text"](14),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](15,"td"),c["\u0275\u0275elementStart"](16,"div",26),c["\u0275\u0275elementStart"](17,"div",27),c["\u0275\u0275elementStart"](18,"div",34),c["\u0275\u0275elementStart"](19,"div",35),c["\u0275\u0275element"](20,"fa-icon",36),c["\u0275\u0275text"](21," \xa0 \xa0\n"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit,n=t.index,a=c["\u0275\u0275nextContext"](2);c["\u0275\u0275advance"](2),c["\u0275\u0275textInterpolate"](n+1),c["\u0275\u0275advance"](6),c["\u0275\u0275property"]("routerLink",c["\u0275\u0275pureFunction1"](7,S,e._source._uid)),c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate1"](" ",e._source._name," "),c["\u0275\u0275advance"](3),c["\u0275\u0275textInterpolate1"](" ",e._source._assigned.length," Teacher(s) "),c["\u0275\u0275advance"](2),c["\u0275\u0275textInterpolate1"](" ",e._source._school_name," "),c["\u0275\u0275advance"](6),c["\u0275\u0275property"]("routerLink",c["\u0275\u0275pureFunction1"](9,S,e._source._uid))("icon",a.faUser)}}function E(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"div",23),c["\u0275\u0275elementStart"](1,"table",24),c["\u0275\u0275elementStart"](2,"thead"),c["\u0275\u0275elementStart"](3,"tr"),c["\u0275\u0275elementStart"](4,"th"),c["\u0275\u0275text"](5,"#"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](6,"th"),c["\u0275\u0275text"](7,"Class Details"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](8,"th"),c["\u0275\u0275text"](9," - "),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](10,"tbody"),c["\u0275\u0275template"](11,b,22,11,"tr",25),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"]()),2&e){const e=c["\u0275\u0275nextContext"]();c["\u0275\u0275advance"](11),c["\u0275\u0275property"]("ngForOf",e.records)}}const _=[{path:"",component:(()=>{class e{constructor(e,t,n,a,i){this.apiAuthenticationService=e,this.activatedRoute=t,this.modalService=n,this.router=a,this.notificationService=i,this.heading="Classes",this.subheading="Class Management.",this.icon="pe-7s-bookmarks icon-gradient bg-mean-fruit",this.ngUnsubscribe$=new r.a,this.dataFetching=!1,this.schoolUid={_uid:null,_name:null},this.faArrowLeft=d.a,this.faUser=d.B,this.faPlus=d.s,this.openModal=e=>{this.modalService.open(e,{size:"lg"})},this.ngOnDestroy=()=>{this.ngUnsubscribe$.next(),this.ngUnsubscribe$.complete()}}ngOnInit(){this.schoolUid._uid=this.activatedRoute.snapshot.params.id,this.schoolUid._uid&&this.apiAuthenticationService.fetch("school",{_searchFilter:JSON.stringify({_mustEqual:{_uid:this.schoolUid._uid}})}).pipe(Object(l.a)(this.ngUnsubscribe$)).subscribe(e=>{e.data._details._recordsFound>0?(this.schoolUid._name=e.data._data[0]._source._name,this.apiAuthenticationService.fetch("class",{_searchFilter:JSON.stringify({_mustEqual:{_school_uid:this.schoolUid._uid},_records:1e3})}).pipe(Object(l.a)(this.ngUnsubscribe$)).subscribe(e=>{this.records=e.data._details._recordsFound>0?e.data._data:[],this.dataFetching=!0})):(this.notificationService.error({_title:"School Profile",_message:"School profile not found."}),this.router.navigate(["/app/school"]))})}createdClass(e){this.records.unshift({_source:{_name:e._name,_uid:e._uid,_school_name:e._school_name,_assigned:[]}})}}return e.\u0275fac=function(t){return new(t||e)(c["\u0275\u0275directiveInject"](o.a),c["\u0275\u0275directiveInject"](i.a),c["\u0275\u0275directiveInject"](m.g),c["\u0275\u0275directiveInject"](i.f),c["\u0275\u0275directiveInject"](s.a))},e.\u0275cmp=c["\u0275\u0275defineComponent"]({type:e,selectors:[["app-all-class"]],decls:26,vars:9,consts:[[1,"app-page-title"],[1,"page-title-wrapper"],[1,"page-title-heading"],[1,"page-title-icon"],[1,"page-title-subheading"],[1,"page-title-actions"],["type","button","routerLink","/app/school",1,"btn-shadow","mr-3","btn","btn-outline-warning"],[1,"mr-2",3,"icon"],["type","button","routerLink","/app/classes",1,"btn-shadow","mr-3","btn","btn-dark"],["type","button",1,"btn-shadow","d-inline-flex","align-items-center","btn","btn-success",3,"click"],["classModal",""],[1,"row"],[1,"col-lg-12","col-xl-12"],[1,"main-card","mb-3","card"],["class","h-sm d-flex justify-content-center align-items-center",4,"ngIf","ngIfElse"],["classDisplay",""],[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[3,"schoolUid","createdClass"],[1,"h-sm","d-flex","justify-content-center","align-items-center"],[1,"p-5","table-responsive"],["datatable","",1,"padding-top-5","align-middle","mb-0","table","table-borderless","table-striped","table-hover"],[4,"ngFor","ngForOf"],[1,"widget-content","p-0"],[1,"widget-content-wrapper"],[1,"widget-content-left"],[1,"widget-heading"],[3,"routerLink"],[1,"widget-subheading","opacity-10"],[1,"pr-2","text-success"],[1,"pr-2"],[1,"widget-content-right","mr-3"],[1,"widget-content-right"],["placement","top","ngbTooltip","View Students","size","lg",3,"routerLink","icon"]],template:function(e,t){if(1&e){const e=c["\u0275\u0275getCurrentView"]();c["\u0275\u0275elementStart"](0,"div",0),c["\u0275\u0275elementStart"](1,"div",1),c["\u0275\u0275elementStart"](2,"div",2),c["\u0275\u0275elementStart"](3,"div",3),c["\u0275\u0275element"](4,"i"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](5,"div"),c["\u0275\u0275text"](6),c["\u0275\u0275elementStart"](7,"div",4),c["\u0275\u0275text"](8),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](9,"div",5),c["\u0275\u0275elementStart"](10,"button",6),c["\u0275\u0275element"](11,"fa-icon",7),c["\u0275\u0275text"](12," Back "),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](13,"button",8),c["\u0275\u0275text"](14," View Assigned Classes "),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](15,"button",9),c["\u0275\u0275listener"]("click",(function(){c["\u0275\u0275restoreView"](e);const n=c["\u0275\u0275reference"](19);return t.openModal(n)})),c["\u0275\u0275element"](16,"fa-icon",7),c["\u0275\u0275text"](17," Create New Class "),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275template"](18,f,8,1,"ng-template",null,10,c["\u0275\u0275templateRefExtractor"]),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](20,"div",11),c["\u0275\u0275elementStart"](21,"div",12),c["\u0275\u0275elementStart"](22,"div",13),c["\u0275\u0275template"](23,v,2,0,"div",14),c["\u0275\u0275template"](24,E,12,1,"ng-template",null,15,c["\u0275\u0275templateRefExtractor"]),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"]()}if(2&e){const e=c["\u0275\u0275reference"](25);c["\u0275\u0275advance"](4),c["\u0275\u0275classMapInterpolate1"]("icon ",t.icon,""),c["\u0275\u0275advance"](2),c["\u0275\u0275textInterpolate1"](" ",t.heading," "),c["\u0275\u0275advance"](2),c["\u0275\u0275textInterpolate1"](" ",t.subheading," "),c["\u0275\u0275advance"](3),c["\u0275\u0275property"]("icon",t.faArrowLeft),c["\u0275\u0275advance"](5),c["\u0275\u0275property"]("icon",t.faPlus),c["\u0275\u0275advance"](7),c["\u0275\u0275property"]("ngIf",!t.dataFetching)("ngIfElse",e)}},directives:[i.g,u.a,a.NgIf,p.a,h.a,g.a,a.NgForOf,i.h,m.k],styles:[""]}),e})(),data:{title:"Class Management"}}];let x=(()=>{class e{}return e.\u0275mod=c["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=c["\u0275\u0275defineInjector"]({factory:function(t){return new(t||e)},imports:[[i.i.forChild(_)],i.i]}),e})(),w=(()=>{class e{}return e.\u0275mod=c["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=c["\u0275\u0275defineInjector"]({factory:function(t){return new(t||e)},imports:[[a.CommonModule,x]]}),e})()}}]);