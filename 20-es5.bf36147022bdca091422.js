function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[20],{Cllu:function(e,t,n){"use strict";n.r(t),n.d(t,"AllTeachersModule",(function(){return U}));var a=n("ofXK"),i=n("tyNb"),r=n("XNiG"),l=n("1G5W"),o=n("HAZY"),s=n("tzug"),c=n("wHSu"),d=n("fXoL"),m=n("1kSV"),u=n("6NWb"),p=n("3Pt+"),h=n("oZhZ");function f(e,t){if(1&e&&(d["\u0275\u0275elementStart"](0,"button",13),d["\u0275\u0275text"](1,"Submit"),d["\u0275\u0275elementEnd"]()),2&e){var n=d["\u0275\u0275nextContext"]();d["\u0275\u0275property"]("disabled",!n.createTeacherForm.valid)}}function b(e,t){1&e&&(d["\u0275\u0275elementStart"](0,"button",14),d["\u0275\u0275element"](1,"span",15),d["\u0275\u0275text"](2," Sending Invitation... "),d["\u0275\u0275elementEnd"]())}var v,g=((v=function(){function e(t,n,a){var i=this;_classCallCheck(this,e),this.apiAuthenticationService=t,this.notificationService=n,this.modalService=a,this.ngUnsubscribe$=new r.a,this.createTeacherForm=new p.FormGroup({_firstName:new p.FormControl(""),_lastName:new p.FormControl(""),_email:new p.FormControl("",p.Validators.required)}),this.ngOnDestroy=function(){i.ngUnsubscribe$.next(),i.ngUnsubscribe$.complete()}}return _createClass(e,[{key:"ngOnInit",value:function(){}},{key:"submitForm",value:function(){var e=this;this.createTeacherForm.valid&&(this.formState=!0,this.createTeacherForm.value._school_uid=this.schoolUid,this.apiAuthenticationService.create("teacher",this.createTeacherForm.value).pipe(Object(l.a)(this.ngUnsubscribe$)).subscribe((function(t){201===t.statusCode&&(e.notificationService.success({_title:"Invitation Sent",_message:"An invitation has been sent to ".concat(e.createTeacherForm.value._email,", you can view all pending invitations on the invites page.")}),e.modalService.dismissAll())}),(function(){e.formState=!1})))}}]),e}()).\u0275fac=function(e){return new(e||v)(d["\u0275\u0275directiveInject"](o.a),d["\u0275\u0275directiveInject"](s.a),d["\u0275\u0275directiveInject"](m.g))},v.\u0275cmp=d["\u0275\u0275defineComponent"]({type:v,selectors:[["app-create-teacher"]],inputs:{schoolUid:"schoolUid"},decls:21,vars:3,consts:[["novalidate","",1,"needs-validation",3,"formGroup","validSubmit"],[1,"form-row"],[1,"col-md-12","mb-12","form-group"],["for","email"],[1,"text-danger"],["formControlName","_email","type","email","id","email","placeholder","Teacher's Email","required","",1,"form-control"],["for","firstName"],["formControlName","_firstName","type","text","id","firstName","placeholder","Teacher's First Name",1,"form-control"],["for","lastName"],["formControlName","_lastName","type","text","id","lastName","placeholder","Teacher's Last Name",1,"form-control"],[1,"btn-actions-pane-right"],["type","submit","class","btn-wide btn-pill btn-shadow btn-hover-shine btn btn-primary btn-lg",3,"disabled",4,"ngIf"],["class","btn-wide btn-pill btn-shadow btn-hover-shine btn btn-primary btn-lg","type","button","disabled","",4,"ngIf"],["type","submit",1,"btn-wide","btn-pill","btn-shadow","btn-hover-shine","btn","btn-primary","btn-lg",3,"disabled"],["type","button","disabled","",1,"btn-wide","btn-pill","btn-shadow","btn-hover-shine","btn","btn-primary","btn-lg"],["role","status","aria-hidden","true",1,"spinner-grow","spinner-grow-sm"]],template:function(e,t){1&e&&(d["\u0275\u0275elementStart"](0,"form",0),d["\u0275\u0275listener"]("validSubmit",(function(){return t.submitForm()})),d["\u0275\u0275elementStart"](1,"div",1),d["\u0275\u0275elementStart"](2,"div",2),d["\u0275\u0275elementStart"](3,"label",3),d["\u0275\u0275text"](4,"Teacher's Email Address"),d["\u0275\u0275elementStart"](5,"span",4),d["\u0275\u0275text"](6,"*"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275element"](7,"input",5),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](8,"div",2),d["\u0275\u0275elementStart"](9,"label",6),d["\u0275\u0275text"](10,"Teacher's First Name"),d["\u0275\u0275elementStart"](11,"span",4),d["\u0275\u0275text"](12,"*"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275element"](13,"input",7),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](14,"div",2),d["\u0275\u0275elementStart"](15,"label",8),d["\u0275\u0275text"](16,"Teacher's Last Name"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275element"](17,"input",9),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](18,"div",10),d["\u0275\u0275template"](19,f,2,1,"button",11),d["\u0275\u0275template"](20,b,3,0,"button",12),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"]()),2&e&&(d["\u0275\u0275property"]("formGroup",t.createTeacherForm),d["\u0275\u0275advance"](19),d["\u0275\u0275property"]("ngIf",!t.formState),d["\u0275\u0275advance"](1),d["\u0275\u0275property"]("ngIf",t.formState))},directives:[p["\u0275angular_packages_forms_forms_y"],p.NgControlStatusGroup,p.FormGroupDirective,h.b,h.a,p.DefaultValueAccessor,h.d,p.NgControlStatus,p.FormControlName,p.RequiredValidator,a.NgIf],styles:[""]}),v),S=n("eC24"),y=n("njyG");function E(e,t){if(1&e&&(d["\u0275\u0275elementStart"](0,"div",15),d["\u0275\u0275elementStart"](1,"h4",16),d["\u0275\u0275text"](2,"Create Class"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](3,"button",17),d["\u0275\u0275listener"]("click",(function(){return(0,t.dismiss)("Cross click")})),d["\u0275\u0275elementStart"](4,"span",18),d["\u0275\u0275text"](5,"\xd7"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](6,"div",19),d["\u0275\u0275element"](7,"app-create-teacher",20),d["\u0275\u0275elementEnd"]()),2&e){var n=d["\u0275\u0275nextContext"]();d["\u0275\u0275advance"](7),d["\u0275\u0275property"]("schoolUid",n.schoolUid._uid)}}function _(e,t){1&e&&(d["\u0275\u0275elementStart"](0,"div",21),d["\u0275\u0275element"](1,"app-content-loader"),d["\u0275\u0275elementEnd"]())}function w(e,t){if(1&e&&(d["\u0275\u0275elementStart"](0,"tr"),d["\u0275\u0275elementStart"](1,"td"),d["\u0275\u0275text"](2),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](3,"td"),d["\u0275\u0275elementStart"](4,"div",25),d["\u0275\u0275elementStart"](5,"div",26),d["\u0275\u0275elementStart"](6,"div",27),d["\u0275\u0275elementStart"](7,"div",28),d["\u0275\u0275elementStart"](8,"a",29),d["\u0275\u0275text"](9),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](10,"div",30),d["\u0275\u0275elementStart"](11,"div",31),d["\u0275\u0275text"](12),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit,a=t.index,i=d["\u0275\u0275nextContext"](2);d["\u0275\u0275advance"](2),d["\u0275\u0275textInterpolate"](a+1),d["\u0275\u0275advance"](6),d["\u0275\u0275propertyInterpolate2"]("routerLink","/app/school/teachers/",i.schoolUid._uid,"/profile/",n.key,""),d["\u0275\u0275advance"](1),d["\u0275\u0275textInterpolate2"]("",n.value._firstName," ",n.value._lastName,""),d["\u0275\u0275advance"](3),d["\u0275\u0275textInterpolate1"](" ",n.value._email," ")}}function x(e,t){if(1&e&&(d["\u0275\u0275elementStart"](0,"div",22),d["\u0275\u0275elementStart"](1,"table",23),d["\u0275\u0275elementStart"](2,"thead"),d["\u0275\u0275elementStart"](3,"tr"),d["\u0275\u0275elementStart"](4,"th"),d["\u0275\u0275text"](5,"#"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](6,"th"),d["\u0275\u0275text"](7,"Teacher Name"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](8,"tbody"),d["\u0275\u0275template"](9,w,13,6,"tr",24),d["\u0275\u0275pipe"](10,"keyvalue"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"]()),2&e){var n=d["\u0275\u0275nextContext"]();d["\u0275\u0275advance"](9),d["\u0275\u0275property"]("ngForOf",d["\u0275\u0275pipeBind1"](10,1,n.recordsRetrieved))}}var C,N,I,F=[{path:"",component:(C=function(){function e(t,n,a,i,l){var o=this;_classCallCheck(this,e),this.notificationService=t,this.apiAuthenticationService=n,this.activatedRoute=a,this.router=i,this.modalService=l,this.ngUnsubscribe$=new r.a,this.faPlus=c.s,this.faArrowLeft=c.a,this.schoolUid={_uid:null,_name:null},this.heading="Teachers",this.subheading="Teacher Management.",this.icon="pe-7s-users icon-gradient bg-mean-fruit",this.ngOnDestroy=function(){o.ngUnsubscribe$.next(),o.ngUnsubscribe$.complete()}}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.schoolUid._uid=this.activatedRoute.snapshot.params.id,this.schoolUid._uid&&this.apiAuthenticationService.fetch("school",{_searchFilter:JSON.stringify({_mustEqual:{_uid:this.schoolUid._uid}})}).pipe(Object(l.a)(this.ngUnsubscribe$)).subscribe((function(t){t.data._details._recordsFound>0?(e.schoolUid._name=t.data._data[0]._source._name,e.apiAuthenticationService.fetch("teacher",{_searchFilter:JSON.stringify({_school_uid:e.schoolUid._uid,_records:1e3})}).pipe(Object(l.a)(e.ngUnsubscribe$)).subscribe((function(t){e.recordsRetrieved=void 0===typeof t.data?[]:t.data,e.dataFetching=!0}))):(e.notificationService.error({_title:"School Profile",_message:"School profile not found."}),e.router.navigate(["/app/school"]))}))}},{key:"openModal",value:function(e){this.modalService.open(e,{size:"lg"})}}]),e}(),C.\u0275fac=function(e){return new(e||C)(d["\u0275\u0275directiveInject"](s.a),d["\u0275\u0275directiveInject"](o.a),d["\u0275\u0275directiveInject"](i.a),d["\u0275\u0275directiveInject"](i.f),d["\u0275\u0275directiveInject"](m.g))},C.\u0275cmp=d["\u0275\u0275defineComponent"]({type:C,selectors:[["app-all-teachers"]],decls:24,vars:9,consts:[[1,"app-page-title"],[1,"page-title-wrapper"],[1,"page-title-heading"],[1,"page-title-icon"],[1,"page-title-subheading"],[1,"page-title-actions"],["type","button","routerLink","/app/school",1,"btn-shadow","d-inline-flex","align-items-center","btn","btn-outline-warning","mr-2"],[1,"mr-2",3,"icon"],["type","button",1,"btn-shadow","d-inline-flex","align-items-center","btn","btn-success",3,"click"],["teacherCreateModal",""],[1,"row"],[1,"col-lg-12","col-xl-12"],[1,"main-card","mb-3","card"],["class","h-sm d-flex justify-content-center align-items-center",4,"ngIf","ngIfElse"],["teacherDisplay",""],[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[3,"schoolUid"],[1,"h-sm","d-flex","justify-content-center","align-items-center"],[1,"p-5","table-responsive"],["datatable","",1,"padding-top-5","align-middle","mb-0","table","table-borderless","table-striped","table-hover"],[4,"ngFor","ngForOf"],[1,"widget-content","p-0"],[1,"widget-content-wrapper"],[1,"widget-content-left"],[1,"widget-heading"],[3,"routerLink"],[1,"widget-subheading","opacity-10"],[1,"pr-2","text-success"]],template:function(e,t){if(1&e){var n=d["\u0275\u0275getCurrentView"]();d["\u0275\u0275elementStart"](0,"div",0),d["\u0275\u0275elementStart"](1,"div",1),d["\u0275\u0275elementStart"](2,"div",2),d["\u0275\u0275elementStart"](3,"div",3),d["\u0275\u0275element"](4,"i"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](5,"div"),d["\u0275\u0275text"](6),d["\u0275\u0275elementStart"](7,"div",4),d["\u0275\u0275text"](8),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](9,"div",5),d["\u0275\u0275elementStart"](10,"button",6),d["\u0275\u0275element"](11,"fa-icon",7),d["\u0275\u0275text"](12," Back "),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](13,"button",8),d["\u0275\u0275listener"]("click",(function(){d["\u0275\u0275restoreView"](n);var e=d["\u0275\u0275reference"](17);return t.openModal(e)})),d["\u0275\u0275element"](14,"fa-icon",7),d["\u0275\u0275text"](15," Add New Teacher "),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275template"](16,E,8,1,"ng-template",null,9,d["\u0275\u0275templateRefExtractor"]),d["\u0275\u0275elementStart"](18,"div",10),d["\u0275\u0275elementStart"](19,"div",11),d["\u0275\u0275elementStart"](20,"div",12),d["\u0275\u0275template"](21,_,2,0,"div",13),d["\u0275\u0275template"](22,x,11,3,"ng-template",null,14,d["\u0275\u0275templateRefExtractor"]),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"]()}if(2&e){var a=d["\u0275\u0275reference"](23);d["\u0275\u0275advance"](4),d["\u0275\u0275classMapInterpolate1"]("icon ",t.icon,""),d["\u0275\u0275advance"](2),d["\u0275\u0275textInterpolate1"](" ",t.heading," "),d["\u0275\u0275advance"](2),d["\u0275\u0275textInterpolate1"](" ",t.subheading," "),d["\u0275\u0275advance"](3),d["\u0275\u0275property"]("icon",t.faArrowLeft),d["\u0275\u0275advance"](3),d["\u0275\u0275property"]("icon",t.faPlus),d["\u0275\u0275advance"](7),d["\u0275\u0275property"]("ngIf",!t.dataFetching)("ngIfElse",a)}},directives:[i.g,u.a,a.NgIf,g,S.a,y.a,a.NgForOf,i.h],pipes:[a.KeyValuePipe],styles:[""]}),C),data:{title:"Teacher Management"}}],k=((N=function e(){_classCallCheck(this,e)}).\u0275mod=d["\u0275\u0275defineNgModule"]({type:N}),N.\u0275inj=d["\u0275\u0275defineInjector"]({factory:function(e){return new(e||N)},imports:[[i.i.forChild(F)],i.i]}),N),T=n("TTnx"),U=((I=function e(){_classCallCheck(this,e)}).\u0275mod=d["\u0275\u0275defineNgModule"]({type:I}),I.\u0275inj=d["\u0275\u0275defineInjector"]({factory:function(e){return new(e||I)},imports:[[a.CommonModule,k,u.b,T.DashboardModule,y.b]]}),I)}}]);