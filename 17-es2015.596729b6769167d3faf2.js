(window.webpackJsonp=window.webpackJsonp||[]).push([[17],{L7uJ:function(e,t,n){"use strict";n.r(t),n.d(t,"AllStudentsModule",(function(){return I}));var a=n("ofXK"),s=n("tyNb"),i=n("XNiG"),o=n("1G5W"),l=n("MJdi"),r=n("tzug"),d=n("wHSu"),c=n("fXoL"),u=n("NVKa"),m=n("eC24"),p=n("njyG");function h(e,t){1&e&&(c["\u0275\u0275elementStart"](0,"div",6),c["\u0275\u0275element"](1,"app-content-loader"),c["\u0275\u0275elementEnd"]())}function f(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"div"),c["\u0275\u0275text"](1),c["\u0275\u0275element"](2,"br"),c["\u0275\u0275text"](3),c["\u0275\u0275element"](4,"br"),c["\u0275\u0275text"](5),c["\u0275\u0275element"](6,"br"),c["\u0275\u0275elementEnd"]()),2&e){const e=c["\u0275\u0275nextContext"]().$implicit;c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate1"](" ",e._source._parent._name," "),c["\u0275\u0275advance"](2),c["\u0275\u0275textInterpolate1"](" Email - ",e._source._parent._email,""),c["\u0275\u0275advance"](2),c["\u0275\u0275textInterpolate1"](" Address - ",e._source._parent._address,"")}}function b(e,t){1&e&&c["\u0275\u0275text"](0," - ")}function g(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"tr"),c["\u0275\u0275elementStart"](1,"td"),c["\u0275\u0275text"](2),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](3,"td"),c["\u0275\u0275text"](4),c["\u0275\u0275elementStart"](5,"fieldset",10),c["\u0275\u0275text"](6),c["\u0275\u0275element"](7,"br"),c["\u0275\u0275text"](8),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](9,"td"),c["\u0275\u0275text"](10),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](11,"td"),c["\u0275\u0275template"](12,f,7,3,"div",11),c["\u0275\u0275template"](13,b,1,0,"ng-template",null,12,c["\u0275\u0275templateRefExtractor"]),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit,n=t.index,a=c["\u0275\u0275reference"](14);c["\u0275\u0275advance"](2),c["\u0275\u0275textInterpolate"](n+1),c["\u0275\u0275advance"](2),c["\u0275\u0275textInterpolate2"](" ",e._source._firstName," ",e._source._lastName," "),c["\u0275\u0275advance"](2),c["\u0275\u0275textInterpolate1"](" Allergies - ",e._source._allergies," "),c["\u0275\u0275advance"](2),c["\u0275\u0275textInterpolate1"](" Address - ",e._source._address," "),c["\u0275\u0275advance"](2),c["\u0275\u0275textInterpolate1"](" ",e._source._class_name," "),c["\u0275\u0275advance"](2),c["\u0275\u0275property"]("ngIf",e._source._parent._uid)("ngIfElse",a)}}function S(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"div",7),c["\u0275\u0275elementStart"](1,"table",8),c["\u0275\u0275elementStart"](2,"thead"),c["\u0275\u0275elementStart"](3,"tr"),c["\u0275\u0275elementStart"](4,"th"),c["\u0275\u0275text"](5,"#"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](6,"th"),c["\u0275\u0275text"](7,"Student Details"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](8,"th"),c["\u0275\u0275text"](9,"Class Details"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](10,"th"),c["\u0275\u0275text"](11,"Parent Details"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](12,"tbody"),c["\u0275\u0275template"](13,g,15,8,"tr",9),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"]()),2&e){const e=c["\u0275\u0275nextContext"]();c["\u0275\u0275advance"](13),c["\u0275\u0275property"]("ngForOf",e.studentRecords)}}const v=[{path:"",component:(()=>{class e{constructor(e,t,n,a){this.router=e,this.activatedRoute=t,this.classService=n,this.notificationService=a,this.subheading="All Student Lists",this.icon="pe-7s-display2 icon-gradient bg-mean-fruit",this.buttonMessage="Back",this.buttonDestination="/app/school",this.buttonIcon=d.a,this.ngUnsubscribe$=new i.a,this.getSchoolDetails=e=>{this.classService.schoolDetails(e).pipe(Object(o.a)(this.ngUnsubscribe$)).subscribe(e=>{200===e.statusCode?this.heading=e.data._data[0]._source._name:this.notificationService.error({_title:"Profile Not Found",_message:"Selected school profile could not be loaded. Please try again."})})},this.getSchoolStudents=e=>{this.classService.allSchoolStudents(this.schoolUid).pipe(Object(o.a)(this.ngUnsubscribe$)).subscribe(e=>{200===e.statusCode&&(this.studentRecords=e.data._data),this.loadingStudentProfiles=!0})},this.ngOnDestroy=()=>{this.ngUnsubscribe$.next(),this.ngUnsubscribe$.complete()}}ngOnInit(){this.schoolUid=this.activatedRoute.snapshot.params.id,this.getSchoolDetails(this.schoolUid),this.getSchoolStudents(this.schoolUid)}}return e.\u0275fac=function(t){return new(t||e)(c["\u0275\u0275directiveInject"](s.f),c["\u0275\u0275directiveInject"](s.a),c["\u0275\u0275directiveInject"](l.a),c["\u0275\u0275directiveInject"](r.a))},e.\u0275cmp=c["\u0275\u0275defineComponent"]({type:e,selectors:[["app-all-students"]],decls:7,vars:8,consts:[[3,"heading","subheading","icon","buttonMessage","buttonDestination","buttonIcon"],[1,"row"],[1,"col-lg-12","col-xl-12"],[1,"main-card","mb-3","card"],["class","h-sm d-flex justify-content-center align-items-center",4,"ngIf","ngIfElse"],["studentProfileLoaded",""],[1,"h-sm","d-flex","justify-content-center","align-items-center"],[1,"p-5","table-responsive"],["datatable","",1,"padding-top-5","align-middle","mb-0","table","table-borderless","table-striped","table-hover"],[4,"ngFor","ngForOf"],[1,"border","p-2","mt-2"],[4,"ngIf","ngIfElse"],["noParentProfile",""]],template:function(e,t){if(1&e&&(c["\u0275\u0275element"](0,"app-page-title",0),c["\u0275\u0275elementStart"](1,"div",1),c["\u0275\u0275elementStart"](2,"div",2),c["\u0275\u0275elementStart"](3,"div",3),c["\u0275\u0275template"](4,h,2,0,"div",4),c["\u0275\u0275template"](5,S,14,1,"ng-template",null,5,c["\u0275\u0275templateRefExtractor"]),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"]()),2&e){const e=c["\u0275\u0275reference"](6);c["\u0275\u0275property"]("heading",t.heading)("subheading",t.subheading)("icon",t.icon)("buttonMessage",t.buttonMessage)("buttonDestination",t.buttonDestination)("buttonIcon",t.buttonIcon),c["\u0275\u0275advance"](4),c["\u0275\u0275property"]("ngIf",!t.loadingStudentProfiles)("ngIfElse",e)}},directives:[u.a,a.NgIf,m.a,p.a,a.NgForOf],styles:[""]}),e})(),data:{title:"All Students"}}];let x=(()=>{class e{}return e.\u0275mod=c["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=c["\u0275\u0275defineInjector"]({factory:function(t){return new(t||e)},imports:[[s.i.forChild(v)],s.i]}),e})();var _=n("Pc/E"),E=n("TTnx");let I=(()=>{class e{}return e.\u0275mod=c["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=c["\u0275\u0275defineInjector"]({factory:function(t){return new(t||e)},imports:[[a.CommonModule,x,_.a,E.DashboardModule,p.b]]}),e})()}}]);